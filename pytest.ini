[pytest]
# Pytest Configuration for Target and Segmentation Automation

# Test discovery
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Test paths
testpaths = tests

# Minimum Python version
minversion = 3.8

# Command line options
addopts =
    -v
    --strict-markers
    --tb=short
    --disable-warnings
    --color=yes
    -p no:warnings
    --maxfail=5

# Markers
markers =
    smoke: Quick smoke tests for critical functionality
    regression: Full regression test suite
    api: API endpoint tests
    database: Database validation tests
    ui: User interface tests
    slow: Tests that take longer to execute
    integration: Integration tests
    security: Security-related tests
    performance: Performance tests
    critical: Critical path tests
    login_positive: Positive login test scenarios
    login_negative: Negative login test scenarios
    login_edge: Edge case login test scenarios
    segments: Segments module tests
    segments_positive: Positive segments test scenarios
    segments_negative: Negative segments test scenarios
    segments_edge: Edge case segments test scenarios
    positive: Positive test scenarios
    negative: Negative test scenarios
    edge: Edge case test scenarios
    search: Search functionality tests
    create: Create/Add functionality tests
    sorting: Sorting functionality tests
    high: High priority tests
    medium: Medium priority tests
    low: Low priority tests
    edit: Edit/Update functionality tests
    delete: Delete functionality tests
    filter: Filter functionality tests
    sort: Sort functionality tests
    pagination: Pagination functionality tests
    permissions: Permission/Access control tests
    export: Export functionality tests
    crud: CRUD operations tests
    functional: Functional tests
    navigation: Navigation tests
    data: Data validation tests

# Logging
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

log_file = reports/pytest.log
log_file_level = DEBUG
log_file_format = %(asctime)s [%(levelname)8s] %(name)s - %(message)s
log_file_date_format = %Y-%m-%d %H:%M:%S

# Coverage
[coverage:run]
source = framework
omit = 
    */tests/*
    */conftest.py

[coverage:report]
precision = 2
show_missing = True
